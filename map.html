<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Hello, World</title>
    <style type="text/css">
        html{height:100%}
        body{height:100%;margin:0px;padding:0px}
        #container{height:100%}
    </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=6bQI3CDH5gF1zTU9zKH75bmkqb6Fxx78">
        //v2.0版本的引用方式：src="http://api.map.baidu.com/api?v=2.0&ak=您的密钥"
    </script>
</head>
<script src="https://cdn.bootcss.com/jquery/2.2.0/jquery.js"></script>
<body>
<div id="container"></div>
<script type="text/javascript">
    /*
    基础学习
    */
    // var map = new BMap.Map("container");          // 创建地图实例
    // var point = new BMap.Point(116.404, 39.915);  // 创建点坐标
    // map.centerAndZoom(point, 15);                 // 初始化地图，设置中心点坐标和地图级别
    // map.enableScrollWheelZoom(true);  //鼠标放大放小
    // map.addControl(new BMap.NavigationControl());//左上角放大镜，缩小放大
    // map.addControl(new BMap.ScaleControl()); //地图上的百分比
    // // map.addControl(new BMap.OverviewMapControl());
    // map.addControl(new BMap.MapTypeControl());//右上方可以看到卫星三维地图



    /*
    移动事件
     */
    // var map = new BMap.Map("container");
    // map.centerAndZoom(new BMap.Point(116.404, 39.915), 11);
    // map.addEventListener("dragend", function(){
    //         var center = map.getCenter();
    //         alert("地图中心点变更为：" + center.lng + ", " + center.lat);
    //     }
    // );

    /*
    搜索事件
     */


    // var map = new BMap.Map("container");
    // map.centerAndZoom(new BMap.Point(116.404, 39.915), 11);
    // var local = new BMap.LocalSearch(map, {
    //     renderOptions:{map: map}
    // });
    // local.search("厦门市思明区软件园二期望海路16号");
    // map.getCenter(function (v) {
    //     alert('kkk')
    // })



    /*
    浏览器定位/ip 定位
     */
    var map = new BMap.Map("container");
    var point = new BMap.Point(116.331398,39.897445);
    map.centerAndZoom(point,12);
    var geolocation = new BMap.Geolocation();
    geolocation.getCurrentPosition(function(r){
        if(this.getStatus() == BMAP_STATUS_SUCCESS){
            var mk = new BMap.Marker(r.point);
            map.addOverlay(mk);
            map.panTo(r.point);
            console.log(r.address.province + r.address.city)
            console.log('您的位置：'+r.point.lng+','+r.point.lat);
        }
        else {
           console.log('获取失败');
        }
    });

    // function MapClass() {}
    // MapClass.prototype = {
    //     class_name:'container',
    //     lng:'116.404',
    //     lat:'39.915',
    //     point:15,
    //     map:'',
    //     do_map:function (lng='',lat='',daxiao='') {
    //         this.map = new BMap.Map(this.class_name);
    //         var point = new BMap.Point(this.lng, this.lat);
    //         this.map.centerAndZoom(point, this.point);
    //         this.mark_map(point)
    //     },
    //     mark_map:function (point) {
    //         var marker = new BMap.Marker(point);        // 创建标注
    //         this.map.addOverlay(marker);
    //     }
    // }
    // var mapClass = new MapClass();
    // mapClass.do_map()
    // mapClass.map.addEventListener("click", function(e){
    //     mapClass.lng = e.point.lng
    //     mapClass.lat = e.point.lat
    //     mapClass.do_map()
    // });


</script>
</body>
</html>